<div dir="rtl">

# ุชูุฑู ธ: ุจุงุฒ ุจุง Canvas ุฏุฑ HTML5

ุนูุตุฑ `canvas` ุฏุฑ ูุจุ ุชูุฑุจุง ูุซู Microsoft Paint ุงุณุช ฺฉู ฺฉ ุจููฺฉ ุงุฒ ูพฺฉุณูโูุง ุฑุง ุจุฑุง ููุงุด ฺฉุดุฏู ุฏุฑ ุงุฎุชุงุฑ ฺฉุงุฑุจุฑ ูโฺฏุฐุงุฑุฏ. ฺฉุงุฑุจุฑ ุฏููุง ุฑู ุนูุตุฑ `canvas` ุฏุฑ HTML ููุงุด ููโฺฉูุฏ ุจูฺฉู ุฑู `context` ุงู ฺฉุงุฑ ุฑุง ุงูุฌุงู ูโุฏูุฏ. โ`context` ูุชูุงูุฏ 2D (ฺุฒ ฺฉู ุฏุฑ ุงู ุชูุฑู ุณุงุฎุชู ูโุดูุฏ) ู 3D (ุจุฑุง ุจุงุฒโูุง ู 3D rendering) ุจุงุดุฏ.

## ุฎูุงุตู

ุนูุตุฑ `<canvas>` ุฏุฑ HTML5 ฺฉ ูุถุง ููุงุด ุฏุฑ ุงุฎุชุงุฑ ูุง ูโฺฏุฐุงุฑุฏ ฺฉู ุดุจู ฺฉ ุชุฎุชูโุณูุฏ ุฏุฌุชุงู ุนูู ูโฺฉูุฏ. ฺฉุงุฑุจุฑ ูุณุชููุงู ุฑู ุฎูุฏ ุนูุตุฑ ฺุฒ ุชุฑุณู ููโฺฉูุฏุ ุจูฺฉู ุฑู `context` ุขู ฺฉุงุฑ ูโฺฉูุฏ. ุงู `context` ูโุชูุงูุฏ ุฏูุจุนุฏ ุง ุณูโุจุนุฏ ุจุงุดุฏ. ุฏุฑ ุงู ุชูุฑู ุจุง `context` ุฏูุจุนุฏ ฺฉุงุฑ ูโฺฉูู ู ุฎุทูุท ุฑุณู ูโฺฉูู ฺฉู ุจูโุตูุฑุช ูพูุง ุฑูฺฏ ู ุถุฎุงูุชุดุงู ุชุบุฑ ูโฺฉูุฏ.

ูุฑุงูุฏ ฺฉู ูพุงุฏูโุณุงุฒ ุจู ุงู ุตูุฑุช ุงุณุช ฺฉู ุงุจุชุฏุง ุนูุตุฑ `canvas` ู `context` ุขู ุฑุง ููุฏุงุฑุฏู ูโฺฉูู ู ุณูพุณ ุงูุฏุงุฒู ุจูู ุฑุง ุจุง ุงูุฏุงุฒู ูพูุฌุฑู ูุฑูุฑฺฏุฑ ููุงููฺฏ ูโุณุงุฒู. ุฑูุฏุงุฏูุง ูุงูุณ ุฑุง ูุฏุฑุช ูโฺฉูู ุชุง ุจูููู ฺู ุฒูุงู ุฑุณู ุดุฑูุน ุง ูุชููู ุดูุฏ. ฺฉ ุชุงุจุน `draw` ุฏุงุฑู ฺฉู ูุณุฑ ุฎุท ุฑุง ูุดุฎุต ูโฺฉูุฏ ู ุณูพุณ ุขู ุฑุง ุฑู `canvas` ูโฺฉุดุฏ. ุจุฑุง ุฌุฐุงุจโุชุฑ ุดุฏู ุฎุฑูุฌุ ุฑูฺฏ ุฎุทูุท ุฏุฑ ฺฉ ฺุฑุฎู HSL ุชุบุฑ ูโฺฉูุฏ ู ุถุฎุงูุช ุขูโูุง ูุฒ ุจู ุดฺฉู ุฑูุช ู ุจุฑฺฏุดุช ฺฉู ู ุฒุงุฏ ูโุดูุฏ. ุฏุฑ ููุงุชุ ูโุชูุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ Blend Modeูุง ุงูฺฉุชโูุง ุฌุงูุจโุชุฑ ุจุฑุง ุฎุทูุท ุงุฌุงุฏ ฺฉูู.

## ูุฑุงุญู ูพุงุฏูโุณุงุฒ

ฑ. ุฏู ูุชุบุฑ ุชุนุฑู ฺฉูุฏ. ูุชุบุฑ ุงูู ุฑุง ุจู ุนูุตุฑ `canvas` ุฏุฑ HTML ุงุฑุฌุงุน ุฏูุฏ. ุฏุฑ ูุชุบุฑ ุฏููุ ุจุง ุงุณุชูุงุฏู ุงุฒ <span dir="ltr">`.getContext('2d')`</span>ุ ููุน `context` ููุฑุฏูุธุฑ ุฑุง ูุดุฎุต ฺฉุฑุฏู ู ุขู ุฑุง ุฏุฑ ูุชุบุฑ ุฐุฎุฑู ฺฉูุฏ.

ฒ. ุงูุฏุงุฒู ูพุดโูุฑุถ `canvas` ุฏุฑ HTMLุ ธฐฐ ุฏุฑ ธฐฐ ูพฺฉุณู ุชุนุฑู ุดุฏู ุงุณุช. ุฏุฑ JavaScriptุ ุงูุฏุงุฒู ุขู ุฑุง ุทูุฑ ุชุนุฑู ฺฉูุฏ ฺฉู ููโุงูุฏุงุฒู ุจุง ูุถุง ุฏุงุฎู ูพูุฌุฑู ุจุฑูุงูู ุจุงุดุฏ.

ณ. ุญุงูุช ุงููู `strokeStyle` (ุฑูฺฏ ุงููู ุฎุทูุท ฺฉู ุฑู `canvas` ฺฉุดุฏู ูโุดูุฏ)ุ `lineCap` (ุญุงูุช ุงูุชูุง ุฎุทูุท)ุ `lineJoin` (ุญุงูุช ูุญู ูุตู ุดุฏู ุฎุทูุท ุจู ูู) ู `lineWidth` (ููุฏุงุฑ ฺฉููุช ุจูุฏู ุฎุทูุท) ุฑุง ุจูโุตูุฑุช ุฒุฑ ุชุนุฑู ฺฉูุฏ.

```javascript
ctx.strokeStyle = '#BADA55';
ctx.lineCap = 'round';
ctx.lineJoin = 'round';
ctx.lineWidth = 100;
```

ด. ุณู ูุชุบุฑ ุชุนุฑู ฺฉูุฏ:
<ul>
   <li>ูุชุบุฑ <code>isDrawing</code> ุจุฑุง ุชุนู ูุถุนุช ฺฉูฺฉ ูุงูุณ ู ุจุง ููุฏุงุฑ ุงููู <code>false</code>.</li>
   <li>ูุชุบุฑ <code>lastX</code> ุจุฑุง ุชุนู ูููุนุช ุงุดุงุฑูโฺฏุฑ ูุงูุณ ุฑู ูุญูุฑ ุงูู ุตูุญู ู ุจุง ููุฏุงุฑ ุงููู 0</li>
   <li>ูุชุบุฑ <code>lastY</code> ุจุฑุง ุชุนู ูููุนุช ุงุดุงุฑูโฺฏุฑ ูุงูุณ ุฑู ูุญูุฑ ุนููุฏ ุตูุญู ู ุจุง ููุฏุงุฑ ุงููู 0</li>
</ul>

ต. ุงููู `event listener` ุฑู ุนูุตุฑ `canvas`ุ ุจู ุฑูุฏุงุฏ `mousedown` ฺฏูุด ูโฺฉูุฏ. ุชุงุจุน event handler ุขูุ ฺฉ ุขุฑฺฏููุงู ุฑูุฏุงุฏ (ุนู e) ุฑุง ูโฺฏุฑุฏุ ููุฏุงุฑ ูุชุบุฑ `isDrawing` ุจุฑุงุจุฑ ุจุง `true` ู ููุฏุงุฑ ูุชุบุฑูุง `lastX` ู `lastY` ุฑุงุ ุจู ุชุฑุชุจุ ุจุฑุงุจุฑ `e.offsetX` ู `e.offsetY` ูุฑุงุฑ ูโุฏูุฏ.

ถ.  ุฑู ุนูุตุฑ `canvas` ุฏู `event listener` ุฏฺฏุฑ ุงุถุงูู ฺฉูุฏ ฺฉู ุจู ุฑูุฏุงุฏูุง `mouseup` ู `mouseout` ฺฏูุด ฺฉููุฏ ู ููุฏุงุฑ ูุชุบุฑ `isDrawing` ุฑุง ุจู `false` ุชุบุฑ ุฏููุฏ.

ท. ุขุฎุฑู `event listener` ุฑู ุนูุตุฑ `canvas`ุ ุจู ุฑูุฏุงุฏ `mousemove` ฺฏูุด ูโฺฉูุฏ ู ุชุงุจุน ูุฑุญูู ุจุนุฏ ุฑุง ุจูโุนููุงู event handler ุงุฌุฑุง ูโฺฉูุฏ.

ธ. ุชุงุจุน `draw` ุฑุง ุจู ุนููุงู ุชุงุจุน event handler ุชุนุฑู ฺฉูุฏ:
> ุขุฑฺฏููุงู ุฑูุฏุงุฏ ุนู e ุฑุง ูุฑุงููุด ูฺฉูุฏ.
<ul>
<li>ุชุงุจุน ูุจุงุฏ ููุช ฺฉูฺฉ ูุงูุณ ุงุชูุงู ูููุชุงุฏู ุงุฌุฑุง ุดูุฏ. ุจูุงุจุฑุงู ููุช ูุชุบุฑ <code>isDrawing</code> ููุฏุงุฑ <code>false</code> ุฏุงุฑุฏุ ุงุฌุฑุง ุชุงุจุน ุฑุง ูุชููู ฺฉูุฏ.</li>
<li>ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑ ฺฉู <code>context</code> ุฏุฑ ุขู ุฐุฎุฑู ุดุฏู ู <code><span dir="ltr">.beginPath</span></code>ุ ฺฉ <code>path</code> ุงุฌุงุฏ ฺฉูุฏ.</li>
<li>ุจุงุฏ ูุฎุชุตุงุช ุดุฑูุน ู ูุฎุชุตุงุช ููุงุท ฺฉู ุงุดุงุฑูโฺฏุฑ ูุงูุณ ุจู ุขูโูุง ูโุฑูุฏ ุฑุง ุจุฑุง ุฑุณู ุฎุทูุท ุฏุงุดุชู ุจุงุดู:<br>
<code><span dir="ltr"><pre>ctx.moveTo(lastX, lastY);
ctx.lineTo(e.offsetX, e.offsetY);</pre></span></code></li>
<li>ุฏุฑ ุขุฎุฑุ <code><span dir="ltr">ctx.stroke()</span></code> ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ ุชุง ุฎุท ููุฑุฏ ูุธุฑ ฺฉุดุฏู ุดูุฏ.</li>
<li>ููุฏุงุฑ ูุชุบุฑูุง <code>lastX</code> ู <code>lastY</code> ุฑุงุุจู ุชุฑุชุจุ ุจุฑุงุจุฑ ุจุง <code>e.offsetX</code> ู <code>e.offsetY</code> ูุฑุงุฑ ูโุฏูู.</li>
</ul>

> ุชุง ุงูุฌุงุ ฺฉ ุญุงูุช ุฎู ุณุงุฏู ู ูพุงู ุงุฒ ููุงุด ุฑู canvas ุฑู ุฏุงุฑู. ุงุฒ ุงูุฌุง ุจู ุจุนุฏุ ุจุฑุง ูุงูู ๐

น. ุฏุฑ ุณุณุชู ุฑูฺฏ [HSL](https://mothereffinghsl.com/)ุ ุฑูฺฏ (hue) ุงุฒ 0 (ูุฑูุฒ) ุชุง 360 (ุฏูุจุงุฑู ูุฑูุฒ) ุชุบุฑ ูโฺฉูุฏ. ุจูุงุจุฑุงูุ ูโุชูุงูู ฺฉ ุงูฺฏู ุชฺฉุฑุงุฑ ุดููุฏู ุงุฒ ุฑูฺฏโูุง ุจุฑุง ููุงุท ุฑู ุฎุทูุท ุฏุงุดุชู ุจุงุดู ฺฉู ูุฑ 360 ุจุงุฑ ุชฺฉุฑุงุฑ ูโุดููุฏ. ุจุฑุง ุนูุถ ุดุฏู ุฑูฺฏ ุฎุทูุท ููฺฏุงู ุฑุณู ุขูโูุง:
<ul>
<li>ุจุนุฏ ุงุฒ ูุชุบุฑูุง ูุฑุญูู ดุ ฺฉ ูุชุบุฑ <code>hue</code> ุจุง ููุฏุงุฑ ุงููู 0 ุชุนุฑู ฺฉูุฏ.</li>
<li>ุฏุฑ ุชุงุจุน <code>draw</code>ุ ูุจู ุงุฒ <span dir="ltr"><code>ctx.beginPath();</code></span>ุ ุจู <code>strokeStyle</code> ููุฏุงุฑ ุฌุฏุฏ <code>`hsl(${hue}, 100%, 50%)`</code> ุฑุง ุจุฏูุฏ.</li>
<li>ุฏุฑ ุขุฎุฑ ุชุงุจุน <code>draw</code>ุ ููุฏุงุฑ <code>hue</code> ุฑุง ฺฉ ุงูุฒุงุด ุฏูุฏ ุชุง ุชุบุฑ ุฑูฺฏ ุงูุฌุงู ุดูุฏ.</li>
<li>ุจุง ุขู ฺฉู ููุช ููุฏุงุฑ <code>hue</code> ุงุฒ 360 ุจุดุชุฑ ุดูุฏ ูุดฺฉู ุจู ูุฌูุฏ ููโุขุฏุ ูโุชูุงูุฏ ุจุง ฺฉ ุนุจุงุฑุช ุดุฑุท ููุช ููุฏุงุฑ ุขู ุจู 360 ุฑุณุฏุ ููุฏุงุฑ ุฑุง ุฏูุจุงุฑู 0 ฺฉูุฏ.</li>
</ul>

ฑฐ. ุจุฑุง ุชุบุฑ ฺฉููุช ุฎุทูุท ููฺฏุงู ุฑุณู ุขูโูุง:
<ul>
<li>ุจุนุฏ ุงุฒ ูุชุบุฑูุง ูุฑุญูู ดุ ฺฉ ูุชุบุฑ <code>direction</code> ุจุง ููุฏุงุฑ ุงููู <code>true</code> ุชุนุฑู ฺฉูุฏ.</li>
<li>ุฏุฑ ุขุฎุฑ ุชุงุจุน <code>draw</code>ุ ุงฺฏุฑ ููุฏุงุฑ <code>lineWidth</code> ุงุฒ 100 ุจุดุชุฑ ู ุง ุงุฒ 1 ฺฉูุชุฑ ุดุฏุ ููุฏุงุฑ ูุชุบุฑ <code>direction</code> ุฑุง ุนูุถ ฺฉูุฏ</li>
<li>ุจุนุฏ ุงุฒ ุนุจุงุฑุช ุดุฑุท ุจุงูุงุ ุงฺฏุฑ <code>direction</code> ููุฏุงุฑ <code>true</code> ุฏุงุดุชุ ููุฏุงุฑ <code>lineWidth</code> ุฑุง ฺฉ ุงูุฒุงุด ุฏูุฏ ู ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ููุฏุงุฑ <code>lineWidth</code> ุฑุง ฺฉ ฺฉุงูุด ุฏูุฏ.</li>
</ul>

ฑฑ. ูโุชูุงูุฏ ุงุฒ Blend Modes ุฏุงุฎู `context` ู ุจุฑุง ุฎุทูุท ุงุณุชูุงุฏู ฺฉูุฏ. ุจุฑุง ุงู ฺฉุงุฑุ ุจุนุฏ ุงุฒ ูุชุบุฑูุง ูุฑุญูู ณุ ุจููุณุฏ <span dir="ltr">`ctx.globalCompositeOperation`</span> ู ุขู ุฑุง ุจุฑุงุจุฑ ูุฑ Blend Mode ุฏูุฎูุงู ูุฑุงุฑ ุฏูุฏ. ูโุชูุงูุฏ ูุณุช ุงุฒ ููุงุฏุฑ ููฺฉู ุจุฑุง globalCompositeOperation ุฑุง [ุงูุฌุง](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation) ุจุจูุฏ.

---

โ ู ุชูุฑู ุทููุงู ุชููู ุดุฏ! ๐
</div>